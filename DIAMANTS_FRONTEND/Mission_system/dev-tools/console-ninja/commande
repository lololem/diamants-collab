#!/bin/bash
# Script Console Ninja pour DIAMANTS Mission System V1
# Usage: bash commande

echo "ğŸ¥· Console Ninja - DIAMANTS Mission System V1"
echo "=============================================="

# 1) Forcer la version de Node supportÃ©e par Console Ninja
source ~/.nvm/nvm.sh
nvm use v16.15.0 || nvm install v16.15.0
echo "âœ… Node version: $(node -v)"

# 2) Stopper Vite Ã©ventuels (tous ports)
pkill -f "vite" 2>/dev/null || true
echo "ğŸ›‘ Processus Vite arrÃªtÃ©s"

# 3) VÃ©rifier la prÃ©sence de Console Ninja (extension VS Code)
echo "ğŸ¥· Utilisation de Console Ninja (extension VS Code)"

# 4) Lancer Vite avec Console Ninja via npm run dev
echo "ğŸš€ DÃ©marrage Console Ninja avec npm run dev..."
echo "ğŸ“ Port automatique (5550-5599)"
echo "ğŸ¥· Logs visibles dans VS Code Console Ninja"

console-ninja npm run dev
